<section class="container mt-5">
  <!-- Título -->
  <h3 class="fw-bold titulo-seccion text-center flex-grow-1">{{ 'afiliacion.empresasAsociadas' | transloco }}</h3>
  <div class="directory-header d-flex justify-content-between align-items-center mb-4">
    <div class="text-center mb-4">
      <h3><strong>{{ 'afiliacion.descripcionSocios' | transloco }}</strong></h3>
    </div>
  </div>

  <!-- Barra de búsqueda -->
  <input type="text" class="form-control search-bar ms-3" placeholder="{{ 'afiliacion.buscarSector' | transloco }}"
    [(ngModel)]="searchQuery" (input)="filterCompanies()">

  <!-- Grilla de empresas -->
  <div class="companies-grid">
    <div class="card" *ngFor="let company of visibleCompanies" >
      <img [src]="company.logo" class="card-img-top" alt="{{ 'afiliacion.logoEmpresa' | transloco: { empresa: company.name } }}">
      <div class="card-body">
        <h5 class="card-title">{{ company.name }}</h5>
        <a href="#" class="btn btn-primary-banner" (click)="sendEmail(company.contact)">{{ 'afiliacion.contactar' | transloco }}</a>
        <a href="#" class="btn btn-secondary" (click)="goToCompanyWebsite(company.website)">{{ 'afiliacion.visitar' | transloco }}</a>
      </div>
    </div>
  </div>

  <!-- Botón "Ver todas las empresas" -->
  <div class="text-center mt-3">
    <button class="btn-primary-banner" (click)="toggleShowAll()">
      {{ showAllCompanies ? ('afiliacion.verMenos' | transloco) : ('afiliacion.verTodas' | transloco) }}
    </button>
  </div>
</section>

<!-- Beneficios de ser Socios -->
<section class="mb-8 mt-3">
  <h4 class="text-center mb-3 titulo-seccion">{{ 'afiliacion.beneficiosTitulo' | transloco }}</h4>
  <h4 class="directory-header d-flex justify-content-between align-items-center mb-4">
    {{ 'afiliacion.beneficiosDescripcion' | transloco }}
  </h4>
  
  <!-- Carrusel de Beneficios -->
  <div id="benefitsCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active" data-bs-interval="2000">
        <img src="assets/beneficio1.jpg" class="d-block w-100" alt="{{ 'afiliacion.beneficio1' | transloco }}">
      </div>
      <div class="carousel-item" data-bs-interval="2000">
        <img src="assets/beneficio2.jpg" class="d-block w-100" alt="{{ 'afiliacion.beneficio2' | transloco }}">
      </div>
      <div class="carousel-item" data-bs-interval="2000">
        <img src="assets/beneficio3.jpg" class="d-block w-100" alt="{{ 'afiliacion.beneficio3' | transloco }}">
      </div>
      <div class="carousel-item" data-bs-interval="2000">
        <img src="assets/beneficio4.jpg" class="d-block w-100" alt="{{ 'afiliacion.beneficio4' | transloco }}">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#benefitsCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#benefitsCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </button>
  </div>
</section>

<!-- Sección de mensaje antes del botón de WhatsApp -->
<div class="afiliacion-container text-center mt-4 p-4 rounded shadow-lg">
  <!-- Título principal -->
  <h3 class="fw-bold text-white">🌟 {{ 'afiliacion.redSocios' | transloco }}</h3>
  
  <!-- Mensaje de posicionamiento -->
  <p class="mensaje-destacado">
    {{ 'afiliacion.mensajePosicionamiento' | transloco }}
  </p>

  <!-- Beneficios de unirse -->
  <div class="beneficios-container">
    <h5 class="fw-bold text-white">🎯 {{ 'Afiliacion por que ser parte de nosotros' | transloco }}</h5>
    <ul class="list-unstyled mt-3 text-white">
      <li class="mb-2">🤝 {{ 'afiliacion.uneteComunidad' | transloco }}</li>
      <li class="mb-2">🚀 {{ 'afiliacion.expandeInfluencia' | transloco }}</li>
      <li class="mb-2">💡 {{ 'afiliacion.formaParteForo' | transloco }}</li>
    </ul>
  </div>

  <!-- Llamado a la acción -->
  <div class="cta-container mt-4">
    <p class="fw-bold">💼 {{ 'afiliacion.listoParaNivel' | transloco }}</p>
    <a href="https://forms.gle/pN78M88MhxHCtydNA" target="_blank" class="btn btn-warning px-4 py-2 fw-bold shadow-lg">
      🚀 {{ 'afiliacion.afiliate' | transloco }}
    </a>
  </div>

<!-- Mensaje de contacto -->
<!-- Mensaje de contacto -->
<p class="text-light mt-3">📩 <em>{{ 'afiliacion.contactanos' | transloco }}</em></p>
<p class="text-light">
  <a href="mailto:coordinacionejecutiva@industriassdt.org" class="text-light">
    coordinacionejecutiva&#64;industriassdt.org
  </a>
</p>
</div>


<!-- Botón flotante de WhatsApp -->
<div class="whatsapp-button" (click)="openWhatsApp()">
  <img src="assets/icono.png" alt="WhatsApp">
</div>
